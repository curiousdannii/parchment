async function zt(cr={}){var L,g=cr;if(0)var Vt;let h,B,b,Z=()=>{};g.start=function(e){if(h=e.Dialog,!h.async)throw new Error("Emglken requires an async Dialog library");B=e.GlkOte,e.accept=or,tr(e.arguments),B.init(e)};function or(e){b&&console.warn("Already have GlkOte event when next event arrives"),b=e,Z()}g.locateFile=function(e){try{return new URL(e,import.meta.url).href}catch{return e}};var ur=[],Q="./this.program",x=(e,r)=>{throw r},fr=import.meta.url,H="";function vr(e){return g.locateFile?g.locateFile(e,H):H+e}var ee,re;if(0)var Yt;else{try{H=new URL(".",fr).href}catch{}ee=async e=>{var r=await fetch(e,{credentials:"same-origin"});if(r.ok)return r.arrayBuffer();throw new Error(r.status+" : "+r.url)}}var _r=console.log.bind(console),R=console.error.bind(console),N,m=!1,D,$t=e=>e.startsWith("file://"),te,ae,p,w,yr,dr,v,o,gr,hr,ne,mr,ie=!1,P=!1;function le(){var e=E.buffer;p=new Int8Array(e),yr=new Int16Array(e),w=new Uint8Array(e),dr=new Uint16Array(e),v=new Int32Array(e),o=new Uint32Array(e),gr=new Float32Array(e),hr=new Float64Array(e),ne=new BigInt64Array(e),mr=new BigUint64Array(e)}function qt(){}function pr(){ie=!0,k.T()}function Gt(){}function wr(){Me(),ot(),P=!0}function Jt(){}function U(e){e="Aborted("+e+")",R(e),m=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw ae?.(r),r}var W;function kr(){return g.locateFile?vr("hugo.wasm"):new URL("hugo.wasm",import.meta.url).href}function Sr(e){if(e==W&&N)return new Uint8Array(N);if(re)return re(e);throw"both async and sync fetching of the wasm failed"}async function Ar(e){if(!N)try{var r=await ee(e);return new Uint8Array(r)}catch{}return Sr(e)}async function Tr(e,r){try{var t=await Ar(e),a=await WebAssembly.instantiate(t,r);return a}catch(n){R(`failed to asynchronously prepare wasm: ${n}`),U(n)}}async function br(e,r,t){if(!e)try{var a=fetch(r,{credentials:"same-origin"}),n=await WebAssembly.instantiateStreaming(a,t);return n}catch(i){R(`wasm streaming compile failed: ${i}`),R("falling back to ArrayBuffer instantiation")}return Tr(r,t)}function Rr(){return{a:kt}}async function Nr(){function e(i,c){return k=i.exports,k=l.instrumentWasmExports(k),wt(k),le(),k}function r(i){return e(i.instance)}var t=Rr();W??=kr();var a=await br(N,W,t),n=r(a);return n}class se{name="ExitStatus";constructor(r){this.message=`Program terminated with exit(${r})`,this.status=r}}var u={},_=e=>Ie(e),y=()=>je(),Fr=(e,r)=>(t=>X(e,t))(r),S=0;class ce{constructor(r){this.excPtr=r,this.ptr=r-24}set_type(r){o[this.ptr+4>>2]=r}get_type(){return o[this.ptr+4>>2]}set_destructor(r){o[this.ptr+8>>2]=r}get_destructor(){return o[this.ptr+8>>2]}set_caught(r){r=r?1:0,p[this.ptr+12]=r}get_caught(){return p[this.ptr+12]!=0}set_rethrown(r){r=r?1:0,p[this.ptr+13]=r}get_rethrown(){return p[this.ptr+13]!=0}init(r,t){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(t)}set_adjusted_ptr(r){o[this.ptr+16>>2]=r}get_adjusted_ptr(){return o[this.ptr+16>>2]}}var I=e=>Ue(e),Mr=e=>{var r=S;if(!r)return I(0),0;var t=new ce(r);t.set_adjusted_ptr(r);var a=t.get_type();if(!a)return I(0),r;for(var n of e){if(n===0||n===a)break;var i=t.ptr+16;if(Ee(n,a,i))return I(n),r}return I(a),r},Cr=()=>Mr([]),Dr=0,Ur=(e,r,t)=>{var a=new ce(e);throw a.init(r,t),S=e,Dr++,S},Ir=e=>{throw S||(S=e),S},Or=(e,r)=>{},jr=()=>U(""),O=0,Er=()=>{O=0},Lr=e=>e%4===0&&(e%100!==0||e%400===0),Br=[0,31,60,91,121,152,182,213,244,274,305,335],Hr=[0,31,59,90,120,151,181,212,243,273,304,334],Pr=e=>{var r=Lr(e.getFullYear()),t=r?Br:Hr,a=t[e.getMonth()]+e.getDate()-1;return a},Wr=9007199254740992,zr=-9007199254740992,oe=e=>e<zr||e>Wr?NaN:Number(e);function Vr(e,r){e=oe(e);var t=new Date(e*1e3);v[r>>2]=t.getSeconds(),v[r+4>>2]=t.getMinutes(),v[r+8>>2]=t.getHours(),v[r+12>>2]=t.getDate(),v[r+16>>2]=t.getMonth(),v[r+20>>2]=t.getFullYear()-1900,v[r+24>>2]=t.getDay();var a=Pr(t)|0;v[r+28>>2]=a,v[r+36>>2]=-(t.getTimezoneOffset()*60);var n=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),c=n.getTimezoneOffset(),s=(i!=c&&t.getTimezoneOffset()==Math.min(c,i))|0;v[r+32>>2]=s}var F={},z=e=>{if(e instanceof se||e=="unwind")return D;x(1,e)},V=()=>O>0,ue=e=>{D=e,V()||(m=!0),x(e,new se(e))},fe=(e,r)=>{D=e,V()||wr(),ue(e)},ve=fe,Yr=()=>{if(!P&&!V())try{ve(D)}catch(e){z(e)}},_e=e=>{if(!(P||m))try{e(),Yr()}catch(r){z(r)}},ye=()=>performance.now(),$r=(e,r)=>{if(F[e]&&(clearTimeout(F[e].id),delete F[e]),!r)return 0;var t=setTimeout(()=>{delete F[e],_e(()=>De(e,ye()))},r);return F[e]={id:t,timeout_ms:r},0},qr=(e,r,t,a)=>{if(!(a>0))return 0;for(var n=t,i=t+a-1,c=0;c<e.length;++c){var s=e.codePointAt(c);if(s<=127){if(t>=i)break;r[t++]=s}else if(s<=2047){if(t+1>=i)break;r[t++]=192|s>>6,r[t++]=128|s&63}else if(s<=65535){if(t+2>=i)break;r[t++]=224|s>>12,r[t++]=128|s>>6&63,r[t++]=128|s&63}else{if(t+3>=i)break;r[t++]=240|s>>18,r[t++]=128|s>>12&63,r[t++]=128|s>>6&63,r[t++]=128|s&63,c++}}return r[t]=0,t-n},A=(e,r,t)=>qr(e,w,r,t),Gr=(e,r,t,a)=>{var n=new Date().getFullYear(),i=new Date(n,0,1),c=new Date(n,6,1),s=i.getTimezoneOffset(),d=c.getTimezoneOffset(),C=Math.max(s,d);o[e>>2]=C*60,v[r>>2]=+(s!=d);var ar=lr=>{var Ht=lr>=0?"-":"+",sr=Math.abs(lr),Pt=String(Math.floor(sr/60)).padStart(2,"0"),Wt=String(sr%60).padStart(2,"0");return`UTC${Ht}${Pt}${Wt}`},nr=ar(s),ir=ar(d);d<s?(A(nr,t,17),A(ir,a,17)):(A(nr,a,17),A(ir,t,17))},de=()=>Date.now(),Jr=1,Kr=e=>e>=0&&e<=3;function Xr(e,r,t){if(r=oe(r),!Kr(e))return 28;var a;if(e===0)a=de();else if(Jr)a=ye();else return 52;var n=Math.round(a*1e3*1e3);return ne[t>>3]=BigInt(n),0}function ge(e,r){let t=K(r.length);p.set(r,t),v[e>>2]=t,v[e+4>>2]=r.length}function Y(e,r){let t=JSON.stringify(r);ge(e,gt.encode(t))}var he=new TextDecoder,me=(e,r,t,a)=>{var n=r+t;if(a)return n;for(;e[r]&&!(r>=n);)++r;return r},T=(e,r,t)=>{if(!e)return"";var a=me(w,e,r,t);return he.decode(w.subarray(e,a))},pe=function(r,t){return l.handleAsync(async()=>{let a=T(r,t);await h.delete(a)})};pe.isAsync=!0;var we=function(r,t){return l.handleAsync(async()=>{let a=T(r,t);return h.exists(a)})};we.isAsync=!0;var ke=function(){return l.handleAsync(async()=>{await h.write(J),J={}})};ke.isAsync=!0;var Se=function(r,t,a){return l.handleAsync(async()=>{let n=T(r,t),i=await h.read(n);return i?(ge(a,i),!0):!1})};Se.isAsync=!0;function Zr(e,r,t,a){let n=T(e,r),i=p.subarray(t,t+a);J[n]=i}function Qr(e){let r=h.get_dirs();Y(e,r)}var Ae=function(r){return l.handleAsync(async()=>{b||await new Promise(t=>{Z=t}),Y(r,b),b=null})};Ae.isAsync=!0;function xr(e,r){let t=JSON.parse(T(e,r));B.update(t)}function et(e,r,t){let a=T(e,r),n=h.set_storyfile_dir(a);Y(t,n)}var rt=()=>2147483648,tt=(e,r)=>Math.ceil(e/r)*r,at=e=>{var r=E.buffer.byteLength,t=(e-r+65535)/65536|0;try{return E.grow(t),le(),1}catch{}},nt=e=>{var r=w.length;e>>>=0;var t=rt();if(e>t)return!1;for(var a=1;a<=4;a*=2){var n=r*(1+.2/a);n=Math.min(n,e+100663296);var i=Math.min(t,tt(Math.max(e,n),65536)),c=at(i);if(c)return!0}return!1},$={},it=()=>Q||"./this.program",M=()=>{if(!M.strings){var e=(typeof navigator=="object"&&navigator.language||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:it()};for(var t in $)$[t]===void 0?delete r[t]:r[t]=$[t];var a=[];for(var t in r)a.push(`${t}=${r[t]}`);M.strings=a}return M.strings},lt=(e,r)=>{var t=0,a=0;for(var n of M()){var i=r+t;o[e+a>>2]=i,t+=A(n,i,1/0)+1,a+=4}return 0},Te=e=>{for(var r=0,t=0;t<e.length;++t){var a=e.charCodeAt(t);a<=127?r++:a<=2047?r+=2:a>=55296&&a<=57343?(r+=4,++t):r+=3}return r},st=(e,r)=>{var t=M();o[e>>2]=t.length;var a=0;for(var n of t)a+=Te(n)+1;return o[r>>2]=a,0},q=[null,[],[]],ct=(e,r=0,t,a)=>{var n=me(e,r,t,a);return he.decode(e.buffer?e.subarray(r,n):new Uint8Array(e.slice(r,n)))},G=(e,r)=>{var t=q[e];r===0||r===10?((e===1?_r:R)(ct(t)),t.length=0):t.push(r)},ot=()=>{Ce(0),q[1].length&&G(1,10),q[2].length&&G(2,10)},ut=(e,r,t,a)=>{for(var n=0,i=0;i<t;i++){var c=o[r>>2],s=o[r+4>>2];r+=8;for(var d=0;d<s;d++)G(e,w[c+d]);n+=s}return o[a>>2]=n,0},ft=()=>{if(0)var e;return r=>crypto.getRandomValues(r)},be=e=>{(be=ft())(e)},vt=(e,r)=>(be(w.subarray(e,e+r)),0),Re=e=>Oe(e),_t=e=>{var r=Te(e)+1,t=Re(r);return A(e,t,r),t},j=e=>{try{return e()}catch(r){U(r)}},yt=()=>{O+=1},dt=()=>{O-=1},l={instrumentWasmImports(e){var r=/^(invoke_.*|__asyncjs__.*)$/;for(let[t,a]of Object.entries(e))if(typeof a=="function"){let n=a.isAsync||r.test(t)}},instrumentFunction(e){var r=(...t)=>{l.exportCallStack.push(e);try{return e(...t)}finally{if(!m){var a=l.exportCallStack.pop();l.maybeStopUnwind()}}};return l.funcWrappers.set(e,r),r},instrumentWasmExports(e){var r={};for(let[a,n]of Object.entries(e))if(typeof n=="function"){var t=l.instrumentFunction(n);r[a]=t}else r[a]=n;return r},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:8192,currData:null,handleSleepReturnValue:0,exportCallStack:[],callstackFuncToId:new Map,callStackIdToFunc:new Map,funcWrappers:new Map,callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(e){if(!l.callstackFuncToId.has(e)){var r=l.callStackId++;l.callstackFuncToId.set(e,r),l.callStackIdToFunc.set(r,e)}return l.callstackFuncToId.get(e)},maybeStopUnwind(){l.currData&&l.state===l.State.Unwinding&&l.exportCallStack.length===0&&(l.state=l.State.Normal,yt(),j(xe),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return new Promise((e,r)=>{l.asyncPromiseHandlers={resolve:e,reject:r}})},allocateData(){var e=K(12+l.StackSize);return l.setDataHeader(e,e+12,l.StackSize),l.setDataRewindFunc(e),e},setDataHeader(e,r,t){o[e>>2]=r,o[e+4>>2]=r+t},setDataRewindFunc(e){var r=l.exportCallStack[0],t=l.getCallStackId(r);v[e+8>>2]=t},getDataRewindFunc(e){var r=v[e+8>>2],t=l.callStackIdToFunc.get(r);return t},doRewind(e){var r=l.getDataRewindFunc(e),t=l.funcWrappers.get(r);return dt(),t()},handleSleep(e){if(!m){if(l.state===l.State.Normal){var r=!1,t=!1;e((a=0)=>{if(!m&&(l.handleSleepReturnValue=a,r=!0,!!t)){l.state=l.State.Rewinding,j(()=>er(l.currData)),typeof MainLoop<"u"&&MainLoop.func&&MainLoop.resume();var n,i=!1;try{n=l.doRewind(l.currData)}catch(d){n=d,i=!0}var c=!1;if(!l.currData){var s=l.asyncPromiseHandlers;s&&(l.asyncPromiseHandlers=null,(i?s.reject:s.resolve)(n),c=!0)}if(i&&!c)throw n}}),t=!0,r||(l.state=l.State.Unwinding,l.currData=l.allocateData(),typeof MainLoop<"u"&&MainLoop.func&&MainLoop.pause(),j(()=>Qe(l.currData)))}else l.state===l.State.Rewinding?(l.state=l.State.Normal,j(rr),Ne(l.currData),l.currData=null,l.sleepCallbacks.forEach(_e)):U(`invalid state: ${l.state}`);return l.handleSleepReturnValue}},handleAsync:e=>l.handleSleep(r=>{e().then(r)})};let J={},gt=new TextEncoder;g.wasmBinary&&(N=g.wasmBinary);var K,Ne,Fe,Me,Ce,De,f,Ue,Ie,Oe,je,Ee,X,Le,Be,He,Pe,We,ze,Ve,Ye,$e,qe,Ge,Je,Ke,Xe,Ze,ht,mt,Qe,xe,er,rr,E,pt;function wt(e){K=e.U,Ne=e.V,Fe=g._main=e.W,Me=e.X,Ce=e.Y,De=e.Z,f=g._setThrew=e._,Ue=e.$,Ie=e.aa,Oe=e.ba,je=e.ca,Ee=e.da,X=u.vi=e.ea,Le=u.vii=e.fa,Be=u.iii=e.ga,He=u.iiii=e.ha,Pe=u.ii=e.ia,We=u.viiii=e.ja,ze=u.viiiii=e.ka,Ve=u.viiiiii=e.la,Ye=u.viii=e.ma,$e=u.iijj=e.na,qe=u.jiii=e.oa,Ge=u.viiiiiii=e.pa,Je=u.iiiiii=e.qa,Ke=u.ij=e.ra,Xe=u.iiiii=e.sa,Ze=u.v=e.ta,ht=u.jiji=e.ua,mt=u.iidiiii=e.va,Qe=e.wa,xe=e.xa,er=e.ya,rr=e.za,E=e.S,pt=e.__indirect_function_table}var kt={R:Fr,a:Cr,Q:Ur,f:Ir,P:Or,J:jr,I:Er,H:Vr,G:$r,F:Gr,O:Xr,E:pe,D:we,C:ke,B:Se,A:Zr,z:Qr,y:Ae,x:xr,w:et,v:de,u:nt,N:lt,M:st,t:ve,o:ut,g:Nt,i:Ct,h:Rt,k:It,l:jt,s:Dt,r:Et,q:Ot,m:Lt,b:St,c:bt,e:Tt,j:Ft,d:At,n:Mt,p:Ut,L:ue,K:vt};function St(e,r){var t=y();try{X(e,r)}catch(a){if(_(t),a!==a+0)throw a;f(1,0)}}function At(e,r,t,a,n,i){var c=y();try{ze(e,r,t,a,n,i)}catch(s){if(_(c),s!==s+0)throw s;f(1,0)}}function Tt(e,r,t,a){var n=y();try{Ye(e,r,t,a)}catch(i){if(_(n),i!==i+0)throw i;f(1,0)}}function bt(e,r,t){var a=y();try{Le(e,r,t)}catch(n){if(_(a),n!==n+0)throw n;f(1,0)}}function Rt(e,r,t,a){var n=y();try{return He(e,r,t,a)}catch(i){if(_(n),i!==i+0)throw i;f(1,0)}}function Nt(e,r){var t=y();try{return Pe(e,r)}catch(a){if(_(t),a!==a+0)throw a;f(1,0)}}function Ft(e,r,t,a,n){var i=y();try{We(e,r,t,a,n)}catch(c){if(_(i),c!==c+0)throw c;f(1,0)}}function Mt(e,r,t,a,n,i,c){var s=y();try{Ve(e,r,t,a,n,i,c)}catch(d){if(_(s),d!==d+0)throw d;f(1,0)}}function Ct(e,r,t){var a=y();try{return Be(e,r,t)}catch(n){if(_(a),n!==n+0)throw n;f(1,0)}}function Dt(e,r,t,a){var n=y();try{return $e(e,r,t,a)}catch(i){if(_(n),i!==i+0)throw i;f(1,0)}}function Ut(e,r,t,a,n,i,c,s){var d=y();try{Ge(e,r,t,a,n,i,c,s)}catch(C){if(_(d),C!==C+0)throw C;f(1,0)}}function It(e,r,t,a,n){var i=y();try{return Xe(e,r,t,a,n)}catch(c){if(_(i),c!==c+0)throw c;f(1,0)}}function Ot(e,r,t,a){var n=y();try{return qe(e,r,t,a)}catch(i){if(_(n),i!==i+0)throw i;return f(1,0),0n}}function jt(e,r,t,a,n,i){var c=y();try{return Je(e,r,t,a,n,i)}catch(s){if(_(c),s!==s+0)throw s;f(1,0)}}function Et(e,r){var t=y();try{return Ke(e,r)}catch(a){if(_(t),a!==a+0)throw a;f(1,0)}}function Lt(e){var r=y();try{Ze(e)}catch(t){if(_(r),t!==t+0)throw t;f(1,0)}}function tr(e=[]){var r=Fe;e.unshift(Q);var t=e.length,a=Re((t+1)*4),n=a;e.forEach(c=>{o[n>>2]=_t(c),n+=4}),o[n>>2]=0;try{var i=r(t,a);return fe(i,!0),i}catch(c){return z(c)}}function Bt(e=ur){function r(){if(g.calledRun=!0,!m){pr(),te?.(g);var t=!0;t||tr(e)}}r()}var k;return k=await Nr(),Bt(),ie?L=g:L=new Promise((e,r)=>{te=e,ae=r}),L}var Kt=zt;export{Kt as default};
//# sourceMappingURL=hugo.js.map

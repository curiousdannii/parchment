var Ka=(()=>{var ee=import.meta.url;return async function(or={}){var re,s=or,ae,B,cr=new Promise((e,r)=>{ae=e,B=r}),vr=typeof WorkerGlobalScope<"u";if(0)var Ga;let w,L,R,te=()=>{};s.start=function(e){if(w=e.Dialog,!w.async)throw new Error("Emglken requires an async Dialog library");L=e.GlkOte,e.accept=fr,lr(e.arguments),L.init(e)};function fr(e){R&&console.warn("Already have GlkOte event when next event arrives"),R=e,te()}s.locateFile=function(e){try{return new URL(e,import.meta.url).href}catch{return e}};var ie=Object.assign({},s),ur=[],ne="./this.program",le=(e,r)=>{throw r},m="";function _r(e){return s.locateFile?s.locateFile(e,m):m+e}var se,oe;if(0)var Ja,Xa;else vr?m=self.location.href:typeof document<"u"&&document.currentScript&&(m=document.currentScript.src),ee&&(m=ee),m.startsWith("blob:")?m="":m=m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1),se=async e=>{var r=await fetch(e,{credentials:"same-origin"});if(r.ok)return r.arrayBuffer();throw new Error(r.status+" : "+r.url)};var dr=console.log.bind(console),A=console.error.bind(console);Object.assign(s,ie),ie=null;var F=s.wasmBinary,M,g=!1,P,h,p,yr,mr,k,f,hr,pr;function ce(){var e=M.buffer;h=new Int8Array(e),yr=new Int16Array(e),p=new Uint8Array(e),mr=new Uint16Array(e),k=new Int32Array(e),f=new Uint32Array(e),hr=new Float32Array(e),pr=new Float64Array(e)}var wr=[],ve=[],gr=[],kr=[],Sr=[],Cr=!1,V=!1;function Rr(){T(wr)}function Ar(){Cr=!0,T(ve)}function Er(){T(gr)}function br(){Fe(),T(kr),wa(),V=!0}function Nr(){T(Sr)}function Tr(e){ve.unshift(e)}var E=0,b=null;function Ir(e){E++}function Dr(e){if(E--,E==0&&b){var r=b;b=null,r()}}function N(e){e="Aborted("+e+")",A(e),g=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw B(r),r}var Ur="data:application/octet-stream;base64,",fe=e=>e.startsWith(Ur),Ya=e=>e.startsWith("file://");function Fr(){if(s.locateFile){var e="scare.wasm";return fe(e)?e:_r(e)}return new URL("scare.wasm",import.meta.url).href}var H;function Mr(e){if(e==H&&F)return new Uint8Array(F);if(oe)return oe(e);throw"both async and sync fetching of the wasm failed"}async function Pr(e){if(!F)try{var r=await se(e);return new Uint8Array(r)}catch{}return Mr(e)}async function Or(e,r){try{var a=await Pr(e),t=await WebAssembly.instantiate(a,r);return t}catch(i){A(`failed to asynchronously prepare wasm: ${i}`),N(i)}}async function jr(e,r,a){if(!e&&typeof WebAssembly.instantiateStreaming=="function"&&!fe(r)&&typeof fetch=="function")try{var t=fetch(r,{credentials:"same-origin"}),i=await WebAssembly.instantiateStreaming(t,a);return i}catch(n){A(`wasm streaming compile failed: ${n}`),A("falling back to ArrayBuffer instantiation")}return Or(r,a)}function xr(){return{a:Na}}async function Wr(){function e(i,n){return c=i.exports,c=l.instrumentWasmExports(c),M=c.T,ce(),Ra=c.Y,Tr(c.U),Dr("wasm-instantiate"),c}Ir("wasm-instantiate");function r(i){e(i.instance)}var a=xr();H??=Fr();try{var t=await jr(F,H,a);return r(t),t}catch(i){B(i);return}}var S,q;class ue{name="ExitStatus";constructor(r){this.message=`Program terminated with exit(${r})`,this.status=r}}var T=e=>{for(;e.length>0;)e.shift()(s)},_=e=>je(e),d=()=>We(),Br=(e,r)=>(a=>Q(e,a))(r),C=0;class _e{constructor(r){this.excPtr=r,this.ptr=r-24}set_type(r){f[this.ptr+4>>2]=r}get_type(){return f[this.ptr+4>>2]}set_destructor(r){f[this.ptr+8>>2]=r}get_destructor(){return f[this.ptr+8>>2]}set_caught(r){r=r?1:0,h[this.ptr+12]=r}get_caught(){return h[this.ptr+12]!=0}set_rethrown(r){r=r?1:0,h[this.ptr+13]=r}get_rethrown(){return h[this.ptr+13]!=0}init(r,a){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(a)}set_adjusted_ptr(r){f[this.ptr+16>>2]=r}get_adjusted_ptr(){return f[this.ptr+16>>2]}}var Lr=e=>{throw C||(C=e),C},O=e=>Oe(e),Vr=e=>{var r=C;if(!r)return O(0),0;var a=new _e(r);a.set_adjusted_ptr(r);var t=a.get_type();if(!t)return O(0),r;for(var i of e){if(i===0||i===t)break;var n=a.ptr+16;if(Be(i,t,n))return O(i),r}return O(t),r},Hr=()=>Vr([]),qr=0,zr=(e,r,a)=>{var t=new _e(e);throw t.init(r,a),C=e,qr++,C},$r=e=>{for(var r=0,a=0;a<e.length;++a){var t=e.charCodeAt(a);t<=127?r++:t<=2047?r+=2:t>=55296&&t<=57343?(r+=4,++a):r+=3}return r},Kr=(e,r,a,t)=>{if(!(t>0))return 0;for(var i=a,n=a+t-1,v=0;v<e.length;++v){var o=e.charCodeAt(v);if(o>=55296&&o<=57343){var y=e.charCodeAt(++v);o=65536+((o&1023)<<10)|y&1023}if(o<=127){if(a>=n)break;r[a++]=o}else if(o<=2047){if(a+1>=n)break;r[a++]=192|o>>6,r[a++]=128|o&63}else if(o<=65535){if(a+2>=n)break;r[a++]=224|o>>12,r[a++]=128|o>>6&63,r[a++]=128|o&63}else{if(a+3>=n)break;r[a++]=240|o>>18,r[a++]=128|o>>12&63,r[a++]=128|o>>6&63,r[a++]=128|o&63}}return r[a]=0,a-i},Gr=(e,r,a)=>Kr(e,p,r,a),Jr=(e,r)=>{},Xr=()=>N(""),Yr=(e,r,a)=>p.copyWithin(e,r,r+a),j=0,Qr=()=>{j=0},Zr=()=>{throw 1/0},I={},z=e=>{if(e instanceof ue||e=="unwind")return P;le(1,e)},$=()=>j>0,de=e=>{P=e,$()||(g=!0),le(e,new ue(e))},ye=(e,r)=>{P=e,$()||br(),de(e)},me=ye,ea=()=>{if(!V&&!$())try{me(P)}catch(e){z(e)}},he=e=>{if(!(V||g))try{e(),ea()}catch(r){z(r)}},pe=()=>performance.now(),ra=(e,r)=>{if(I[e]&&(clearTimeout(I[e].id),delete I[e]),!r)return 0;var a=setTimeout(()=>{delete I[e],he(()=>Pe(e,pe()))},r);return I[e]={id:a,timeout_ms:r},0},we=()=>Date.now(),aa=1,ta=e=>e>=0&&e<=3,ge=(e,r)=>r+2097152>>>0<4194305-!!e?(e>>>0)+r*4294967296:NaN;function ia(e,r,a,t){var i=ge(r,a);if(!ta(e))return 28;var n;if(e===0)n=we();else if(aa)n=pe();else return 52;var v=Math.round(n*1e3*1e3);return q=[v>>>0,(S=v,+Math.abs(S)>=1?S>0?+Math.floor(S/4294967296)>>>0:~~+Math.ceil((S-+(~~S>>>0))/4294967296)>>>0:0)],k[t>>2]=q[0],k[t+4>>2]=q[1],0}function ke(e,r){let a=Y(r.length);h.set(r,a),k[e>>2]=a,k[e+4>>2]=r.length}function Se(e,r){let a=JSON.stringify(r);ke(e,ba.encode(a))}var Ce=new TextDecoder,D=(e,r)=>{if(!e)return"";for(var a=e+r,t=e;!(t>=a)&&p[t];)++t;return Ce.decode(p.subarray(e,t))},Re=function(r,a){return l.handleAsync(async()=>{let t=D(r,a);await w.delete(t)})};Re.isAsync=!0;var Ae=function(r,a){return l.handleAsync(async()=>{let t=D(r,a);return w.exists(t)})};Ae.isAsync=!0;var Ee=function(){return l.handleAsync(async()=>{await w.write(X),X={}})};Ee.isAsync=!0;var be=function(r,a,t){return l.handleAsync(async()=>{let i=D(r,a),n=await w.read(i);return n?(ke(t,n),!0):!1})};be.isAsync=!0;function na(e,r,a,t){let i=D(e,r),n=h.subarray(a,a+t);X[i]=n}function la(e){let r=w.get_dirs();Se(e,r)}var Ne=function(r){return l.handleAsync(async()=>{R||await new Promise(a=>{te=a}),Se(r,R),R=null})};Ne.isAsync=!0;function sa(e,r){let a=JSON.parse(D(e,r));L.update(a)}var oa=()=>2147483648,ca=(e,r)=>Math.ceil(e/r)*r,va=e=>{var r=M.buffer,a=(e-r.byteLength+65535)/65536|0;try{return M.grow(a),ce(),1}catch{}},fa=e=>{var r=p.length;e>>>=0;var a=oa();if(e>a)return!1;for(var t=1;t<=4;t*=2){var i=r*(1+.2/t);i=Math.min(i,e+100663296);var n=Math.min(a,ca(Math.max(e,i),65536)),v=va(n);if(v)return!0}return!1},K={},ua=()=>ne||"./this.program",U=()=>{if(!U.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:ua()};for(var a in K)K[a]===void 0?delete r[a]:r[a]=K[a];var t=[];for(var a in r)t.push(`${a}=${r[a]}`);U.strings=t}return U.strings},_a=(e,r)=>{for(var a=0;a<e.length;++a)h[r++]=e.charCodeAt(a);h[r]=0},da=(e,r)=>{var a=0;return U().forEach((t,i)=>{var n=r+a;f[e+i*4>>2]=n,_a(t,n),a+=t.length+1}),0},ya=(e,r)=>{var a=U();f[e>>2]=a.length;var t=0;return a.forEach(i=>t+=i.length+1),f[r>>2]=t,0},ma=e=>52;function ha(e,r,a,t,i){var n=ge(r,a);return 70}var G=[null,[],[]],pa=(e,r=0,a=NaN)=>{for(var t=r+a,i=r;e[i]&&!(i>=t);)++i;return Ce.decode(e.buffer?e.subarray(r,i):new Uint8Array(e.slice(r,i)))},J=(e,r)=>{var a=G[e];r===0||r===10?((e===1?dr:A)(pa(a)),a.length=0):a.push(r)},wa=()=>{Me(0),G[1].length&&J(1,10),G[2].length&&J(2,10)},ga=(e,r,a,t)=>{for(var i=0,n=0;n<a;n++){var v=f[r>>2],o=f[r+4>>2];r+=8;for(var y=0;y<o;y++)J(e,p[v+y]);i+=o}return f[t>>2]=i,0},ka=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return t=>crypto.getRandomValues(t);if(0)try{var e,r,a}catch(t){}N("initRandomDevice")},Te=e=>(Te=ka())(e),Sa=(e,r)=>(Te(p.subarray(e,e+r)),0),Ie=e=>xe(e),Ca=e=>{var r=$r(e)+1,a=Ie(r);return Gr(e,a,r),a},Ra,x=e=>{try{return e()}catch(r){N(r)}},Aa=()=>{j+=1},Ea=()=>{j-=1},l={instrumentWasmImports(e){var r=/^(invoke_.*|__asyncjs__.*)$/;for(let[a,t]of Object.entries(e))if(typeof t=="function"){let i=t.isAsync||r.test(a)}},instrumentWasmExports(e){var r={};for(let[a,t]of Object.entries(e))typeof t=="function"?r[a]=(...i)=>{l.exportCallStack.push(a);try{return t(...i)}finally{if(!g){var n=l.exportCallStack.pop();l.maybeStopUnwind()}}}:r[a]=t;return r},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:8192,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(e){var r=l.callStackNameToId[e];return r===void 0&&(r=l.callStackId++,l.callStackNameToId[e]=r,l.callStackIdToName[r]=e),r},maybeStopUnwind(){l.currData&&l.state===l.State.Unwinding&&l.exportCallStack.length===0&&(l.state=l.State.Normal,Aa(),x(tr),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return new Promise((e,r)=>{l.asyncPromiseHandlers={resolve:e,reject:r}})},allocateData(){var e=Y(12+l.StackSize);return l.setDataHeader(e,e+12,l.StackSize),l.setDataRewindFunc(e),e},setDataHeader(e,r,a){f[e>>2]=r,f[e+4>>2]=r+a},setDataRewindFunc(e){var r=l.exportCallStack[0],a=l.getCallStackId(r);k[e+8>>2]=a},getDataRewindFuncName(e){var r=k[e+8>>2],a=l.callStackIdToName[r];return a},getDataRewindFunc(e){var r=c[e];return r},doRewind(e){var r=l.getDataRewindFuncName(e),a=l.getDataRewindFunc(r);return Ea(),a()},handleSleep(e){if(!g){if(l.state===l.State.Normal){var r=!1,a=!1;e((t=0)=>{if(!g&&(l.handleSleepReturnValue=t,r=!0,!!a)){l.state=l.State.Rewinding,x(()=>ir(l.currData)),typeof MainLoop<"u"&&MainLoop.func&&MainLoop.resume();var i,n=!1;try{i=l.doRewind(l.currData)}catch(y){i=y,n=!0}var v=!1;if(!l.currData){var o=l.asyncPromiseHandlers;o&&(l.asyncPromiseHandlers=null,(n?o.reject:o.resolve)(i),v=!0)}if(n&&!v)throw i}}),a=!0,r||(l.state=l.State.Unwinding,l.currData=l.allocateData(),typeof MainLoop<"u"&&MainLoop.func&&MainLoop.pause(),x(()=>ar(l.currData)))}else l.state===l.State.Rewinding?(l.state=l.State.Normal,x(nr),De(l.currData),l.currData=null,l.sleepCallbacks.forEach(he)):N(`invalid state: ${l.state}`);return l.handleSleepReturnValue}},handleAsync(e){return l.handleSleep(r=>{e().then(r)})}};let X={},ba=new TextEncoder;var Na={S:Br,a:Hr,R:zr,e:Lr,Q:Jr,K:Xr,J:Yr,I:Qr,H:Zr,G:ra,t:ia,F:Re,E:Ae,D:Ee,C:be,B:na,A:la,z:Ne,y:sa,x:we,w:fa,P:da,O:ya,v:me,N:ma,s:ha,p:ga,l:La,d:Pa,k:Ma,i:Wa,m:Ha,n:Va,r:qa,q:za,h:xa,b:Ia,c:Fa,f:Ua,j:Oa,g:Da,o:ja,u:Ba,M:de,L:Sa},c;Wr();var Ta=()=>(Ta=c.U)(),De=e=>(De=c.V)(e),Y=e=>(Y=c.W)(e),Ue=s._main=(e,r)=>(Ue=s._main=c.X)(e,r),Fe=()=>(Fe=c.Z)(),Me=e=>(Me=c._)(e),Pe=(e,r)=>(Pe=c.$)(e,r),u=s._setThrew=(e,r)=>(u=s._setThrew=c.aa)(e,r),Oe=e=>(Oe=c.ba)(e),je=e=>(je=c.ca)(e),xe=e=>(xe=c.da)(e),We=()=>(We=c.ea)(),Be=(e,r,a)=>(Be=c.fa)(e,r,a),Q=s.dynCall_vi=(e,r)=>(Q=s.dynCall_vi=c.ga)(e,r),Le=s.dynCall_iii=(e,r,a)=>(Le=s.dynCall_iii=c.ha)(e,r,a),Ve=s.dynCall_vii=(e,r,a)=>(Ve=s.dynCall_vii=c.ia)(e,r,a),He=s.dynCall_ii=(e,r)=>(He=s.dynCall_ii=c.ja)(e,r),qe=s.dynCall_viiii=(e,r,a,t,i)=>(qe=s.dynCall_viiii=c.ka)(e,r,a,t,i),ze=s.dynCall_viiiii=(e,r,a,t,i,n)=>(ze=s.dynCall_viiiii=c.la)(e,r,a,t,i,n),$e=s.dynCall_viiiiii=(e,r,a,t,i,n,v)=>($e=s.dynCall_viiiiii=c.ma)(e,r,a,t,i,n,v),Ke=s.dynCall_viii=(e,r,a,t)=>(Ke=s.dynCall_viii=c.na)(e,r,a,t),Ge=s.dynCall_v=e=>(Ge=s.dynCall_v=c.oa)(e),Je=s.dynCall_iiii=(e,r,a,t)=>(Je=s.dynCall_iiii=c.pa)(e,r,a,t),Xe=s.dynCall_iijj=(e,r,a,t,i,n)=>(Xe=s.dynCall_iijj=c.qa)(e,r,a,t,i,n),Ye=s.dynCall_viiiiiii=(e,r,a,t,i,n,v,o)=>(Ye=s.dynCall_viiiiiii=c.ra)(e,r,a,t,i,n,v,o),Qe=s.dynCall_iiiiii=(e,r,a,t,i,n)=>(Qe=s.dynCall_iiiiii=c.sa)(e,r,a,t,i,n),Ze=s.dynCall_iiiii=(e,r,a,t,i)=>(Ze=s.dynCall_iiiii=c.ta)(e,r,a,t,i),er=s.dynCall_i=e=>(er=s.dynCall_i=c.ua)(e),rr=s.dynCall_ji=(e,r)=>(rr=s.dynCall_ji=c.va)(e,r),ar=e=>(ar=c.wa)(e),tr=()=>(tr=c.xa)(),ir=e=>(ir=c.ya)(e),nr=()=>(nr=c.za)();function Ia(e,r){var a=d();try{Q(e,r)}catch(t){if(_(a),t!==t+0)throw t;u(1,0)}}function Da(e,r,a,t,i,n){var v=d();try{ze(e,r,a,t,i,n)}catch(o){if(_(v),o!==o+0)throw o;u(1,0)}}function Ua(e,r,a,t){var i=d();try{Ke(e,r,a,t)}catch(n){if(_(i),n!==n+0)throw n;u(1,0)}}function Fa(e,r,a){var t=d();try{Ve(e,r,a)}catch(i){if(_(t),i!==i+0)throw i;u(1,0)}}function Ma(e,r,a){var t=d();try{return Le(e,r,a)}catch(i){if(_(t),i!==i+0)throw i;u(1,0)}}function Pa(e,r){var a=d();try{return He(e,r)}catch(t){if(_(a),t!==t+0)throw t;u(1,0)}}function Oa(e,r,a,t,i){var n=d();try{qe(e,r,a,t,i)}catch(v){if(_(n),v!==v+0)throw v;u(1,0)}}function ja(e,r,a,t,i,n,v){var o=d();try{$e(e,r,a,t,i,n,v)}catch(y){if(_(o),y!==y+0)throw y;u(1,0)}}function xa(e){var r=d();try{Ge(e)}catch(a){if(_(r),a!==a+0)throw a;u(1,0)}}function Wa(e,r,a,t){var i=d();try{return Je(e,r,a,t)}catch(n){if(_(i),n!==n+0)throw n;u(1,0)}}function Ba(e,r,a,t,i,n,v,o){var y=d();try{Ye(e,r,a,t,i,n,v,o)}catch(Z){if(_(y),Z!==Z+0)throw Z;u(1,0)}}function La(e){var r=d();try{return er(e)}catch(a){if(_(r),a!==a+0)throw a;u(1,0)}}function Va(e,r,a,t,i,n){var v=d();try{return Qe(e,r,a,t,i,n)}catch(o){if(_(v),o!==o+0)throw o;u(1,0)}}function Ha(e,r,a,t,i){var n=d();try{return Ze(e,r,a,t,i)}catch(v){if(_(n),v!==v+0)throw v;u(1,0)}}function qa(e,r,a,t,i,n){var v=d();try{return Xe(e,r,a,t,i,n)}catch(o){if(_(v),o!==o+0)throw o;u(1,0)}}function za(e,r){var a=d();try{return rr(e,r)}catch(t){if(_(a),t!==t+0)throw t;u(1,0)}}var W;b=function e(){W||sr(),W||(b=e)};function lr(e=[]){var r=Ue;e.unshift(ne);var a=e.length,t=Ie((a+1)*4),i=t;e.forEach(v=>{f[i>>2]=Ca(v),i+=4}),f[i>>2]=0;try{var n=r(a,t);return ye(n,!0),n}catch(v){return z(v)}}function sr(e=ur){if(E>0||(Rr(),E>0))return;function r(){W||(W=!0,s.calledRun=!0,!g&&(Ar(),Er(),ae(s),$a&&lr(e),Nr()))}r()}var $a=!1;return sr(),re=cr,re}})(),Qa=Ka;export{Qa as default};
//# sourceMappingURL=scare.js.map
